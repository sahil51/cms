{% load wagtailimages_tags %}
<section class="success-stories-section" {% if self.section_id %}id="{{ self.section_id }}" {% endif %}
    data-aos="{{ self.animation|default:'fade-up' }}">
    <div class="container">
        <div class="section-header" data-aos="fade-up">
            <span class="section-tag"><i class="fa-solid fa-trophy"></i> Success Stories</span>
            <h2>{{ self.title }}</h2>
        </div>
        <div class="stories-grid">
            {% for story in self.stories %}
            <div class="story-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
                {% if story.image %}{% image story.image fill-400x250 as s_img %}<div class="story-img"
                    style="background-image:url('{{ s_img.url }}');"></div>{% endif %}
                <div class="story-content">
                    <span class="story-client">{{ story.client_name }}</span>
                    <h3>{{ story.story_title }}</h3>
                    <p>{{ story.summary }}</p>
                    {% if story.link %}<a href="{{ story.link }}" class="service-link">Read Case Study <i
                            class="fa-solid fa-arrow-right"></i></a>{% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<style>
    .stories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 32px;
    }

    .story-card {
        background: var(--bg-card);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: var(--radius);
        overflow: hidden;
        transition: all var(--transition);
    }

    .story-card:hover {
        transform: translateY(-4px);
        border-color: rgba(0, 212, 255, 0.2);
    }

    .story-img {
        height: 200px;
        background-size: cover;
        background-position: center;
    }

    .story-content {
        padding: 24px;
    }

    .story-client {
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--primary);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .story-content h3 {
        font-size: 1.2rem;
        font-weight: 700;
        margin: 8px 0;
    }

    .story-content p {
        color: var(--text-muted);
        font-size: 0.9rem;
        margin-bottom: 12px;
    }
</style>