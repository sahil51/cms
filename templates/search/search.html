{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block title %}Search Results{% endblock %}

{% block content %}
<section class="py-24" style="background-color: var(--background-color);">
    <div class="container mx-auto px-6">
        <h1 class="text-5xl font-black mb-12 uppercase tracking-tighter">
            Search Results for <span class="text-primary">"{{ search_query }}"</span>
        </h1>

        {% if search_results %}
        <div class="grid grid-cols-1 gap-8">
            {% for result in search_results %}
            <div class="bg-white/5 p-8 rounded-3xl border border-white/10 hover:border-primary/50 transition-all group"
                data-aos="fade-up">
                <h2 class="text-2xl font-bold mb-4">
                    <a href="{% pageurl result %}" class="group-hover:text-primary transition-colors">
                        {{ result.title }}
                    </a>
                </h2>
                {% if result.search_description %}
                <p class="opacity-60 mb-6">{{ result.search_description }}</p>
                {% endif %}
                <a href="{% pageurl result %}"
                    class="text-primary font-bold uppercase tracking-widest text-sm inline-flex items-center gap-2">
                    Read More <i class="fa fa-arrow-right group-hover:translate-x-2 transition-transform"></i>
                </a>
            </div>
            {% endfor %}
        </div>

        {% if search_results.has_previous or search_results.has_next %}
        <div class="mt-16 flex justify-center gap-4">
            {% if search_results.has_previous %}
            <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.previous_page_number }}"
                class="btn btn-primary">Previous</a>
            {% endif %}
            {% if search_results.has_next %}
            <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.next_page_number }}"
                class="btn btn-primary">Next</a>
            {% endif %}
        </div>
        {% endif %}
        {% else %}
        <div class="text-center py-20 bg-white/5 rounded-3xl border border-dashed border-white/10">
            <i class="fa fa-search text-6xl opacity-20 mb-6"></i>
            <p class="text-xl opacity-50">No results found for your search.</p>
            <a href="/" class="btn btn-primary mt-8">Back to Home</a>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}